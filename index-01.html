<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>羽毛球费用分摊计算器</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "Microsoft YaHei", Arial, sans-serif; max-width: 600px; margin: 30px auto; padding: 0 20px; background: #f8f9fa; }
        .container { border: 1px solid #e5e7eb; padding: 30px; border-radius: 12px; box-shadow: 0 0 15px rgba(0,0,0,0.06); background: #fff; }
        h1 { text-align: center; color: #2d3748; margin-bottom: 28px; font-size: 20px; font-weight: 600; }
        .input-item { margin-bottom: 18px; }
        label { display: block; margin-bottom: 6px; color: #4b5563; font-size: 14px; }
        input { width: 100%; padding: 11px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 16px; }
        input:focus { outline: none; border-color: #2563eb; box-shadow: 0 0 0 2px rgba(37,99,235,0.1); }
        button { width: 100%; padding: 13px; background: #2563eb; color: #fff; border: none; border-radius: 8px; font-size: 17px; cursor: pointer; margin-top: 8px; }
        button:hover { background: #1d4ed8; }
        /* 精美报告样式 - 重点优化 */
        .report { margin-top: 30px; padding: 20px; background: #f8fafc; border-radius: 10px; border: 1px solid #e2e8f0; }
        .report-title { text-align: center; font-size: 18px; font-weight: bold; color: #1e40af; padding-bottom: 15px; border-bottom: 2px solid #dbeafe; margin-bottom: 15px; }
        .report-section { margin-bottom: 12px; }
        .report-section h3 { font-size: 15px; color: #334155; margin-bottom: 8px; font-weight: 600; }
        .report-row { display: flex; justify-content: space-between; padding: 6px 0; font-size: 15px; color: #1e293b; }
        .report-row span:first-child { color: #475569; }
        .report-row.total { font-weight: bold; color: #dc2626; font-size: 16px; padding-top: 8px; border-top: 1px dashed #cbd5e1; }
        .report-result { margin-top: 15px; text-align: center; font-size: 20px; font-weight: bold; color: #0f172a; padding: 10px; background: #eff6ff; border-radius: 8px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>羽毛球费用分摊计算器</h1>
        <div class="input-item">
            <label>场地费</label>
            <input type="number" id="siteFee" min="1" step="5">
        </div>        
        <div class="input-item">
            <label>打球总人数（必填，至少1人）</label>
            <input type="number" id="peopleNum" min="1" placeholder="" step="1">
        </div>
        <div class="input-item">
            <label>球01 整桶总价（元）</label>
            <input type="number" id="ball1Total" min="0" placeholder="" value=79.9 step="0.01">
        </div>
        <div class="input-item">
            <label>球01 当日使用数量（个）</label>
            <input type="number" id="ball1Count" min="0" placeholder="" step="1">
        </div>
        <div class="input-item">
            <label>球02 整桶总价（元）</label>
            <input type="number" id="ball2Total" min="0" placeholder="" step="0.01">
        </div>
        <div class="input-item">
            <label>球02 当日使用数量（个）</label>
            <input type="number" id="ball2Count" min="0" placeholder="" step="1">
        </div>
        <button onclick="calcCost()">计算并生成费用报告</button>
        
        <!-- 费用报告展示区域 -->
        <div class="report" id="report" style="display: none;"></div>
    </div>

    <script>
        // 固定场地费 35元 不变
        // const siteFee = 35;
        // 星期中文映射表
        const weekArr = ['周日','周一','周二','周三','周四','周五','周六'];

        // 核心计算+生成精美报告方法
        function calcCost() {
            // 获取所有输入参数并转数字
            const siteFee = Number(document.getElementById('siteFee').value)
            const peopleNum = Number(document.getElementById('peopleNum').value);
            const ball1Total = Number(document.getElementById('ball1Total').value);
            const ball1Count = Number(document.getElementById('ball1Count').value);
            const ball2Total = Number(document.getElementById('ball2Total').value);
            const ball2Count = Number(document.getElementById('ball2Count').value);

            // 合法性校验
            if (!siteFee || siteFee < 1) {
                alert('请输入正确的场地费');
                return;
            }

            if (!peopleNum || peopleNum < 1) {
                alert('请输入正确的打球人数（至少1人）');
                return;
            }
            if (isNaN(ball1Total) || isNaN(ball1Count) || isNaN(ball2Total) || isNaN(ball2Count)) {
                alert('请填写完整的羽毛球价格和使用数量，不能为空！');
                return;
            }

            // ===== 严格按照你的公式计算 =====
            const ball1Cost = (ball1Total / 12) * ball1Count; //球01总花费
            const ball2Cost = (ball2Total / 12) * ball2Count; //球02总花费
            const totalCost = siteFee + ball1Cost + ball2Cost; //打球总费用
            const ballTotalCost = (ball1Total / 12) * ball1Count + (ball2Total / 12) * ball2Count
            const perPersonCost = totalCost / peopleNum; //每人平摊费用

            // ===== 自动获取当日日期+星期 =====
            const today = new Date();
            const year = today.getFullYear();
            const month = (today.getMonth()+1).toString().padStart(2,0); //补0成两位数
            const day = today.getDate().toString().padStart(2,0);
            const week = weekArr[today.getDay()];
            const reportTitle = `${year}-${month}-${day} ${week}打球平摊费用`;

            // ===== 生成【精美费用报告】HTML结构 =====
            const reportHtml = `
                <div class="report-title">${reportTitle}</div>
                <div class="report-section">
                    <h3>一、基础参与信息</h3>
                    <div class="report-row"><span>当日打球总人数：</span><span>${peopleNum} 人</span></div>
                    <div class="report-row"><span>当日使用球01数量：</span><span>${ball1Count} 个</span></div>
                    <div class="report-row"><span>当日使用球02数量：</span><span>${ball2Count} 个</span></div>
                    <div class="report-row"><span>当日总用球数量：</span><span>${ball1Count + ball2Count} 个</span></div>
                </div>
                <div class="report-section">
                    <h3>二、费用明细（精准计算）</h3>
                    <div class="report-row"><span>场地费用：</span><span>¥ ${siteFee.toFixed(2)} 元</span></div>
                    <div class="report-row"><span>球01单价(单颗)：</span><span>¥ ${(ball1Total/12).toFixed(2)} 元</span></div>
                    <div class="report-row"><span>球01当日总花费：</span><span>¥ ${ball1Cost.toFixed(2)} 元</span></div>
                    <div class="report-row"><span>球02单价(单颗)：</span><span>¥ ${(ball2Total/12).toFixed(2)} 元</span></div>
                    <div class="report-row"><span>球02当日总花费：</span><span>¥ ${ball2Cost.toFixed(2)} 元</span></div>
                    <div class="report-row total"><span>✅ 当日打球总费用：</span><span>¥ ${totalCost.toFixed(2)} 元，其中场地费¥ ${siteFee.toFixed(2)}，球费¥ ${ballTotalCost.toFixed(2) }  </span></div>
                </div>
                <div class="report-section">
                    <h3>三、最终平摊结果</h3>
                    <div class="report-result">每人需平摊费用：¥ ${perPersonCost.toFixed(2)} 元</div>
                </div>
            `;

            // 显示报告
            document.getElementById('report').innerHTML = reportHtml;
            document.getElementById('report').style.display = 'block';
            // 计算完成后滚动到报告区域，体验更好
            document.getElementById('report').scrollIntoView({behavior: 'smooth'});
        }
    </script>
</body>
</html>